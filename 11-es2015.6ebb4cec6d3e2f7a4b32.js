(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Q68Q:function(n,t,e){"use strict";e.r(t),e.d(t,"GerarBoletoModule",(function(){return D}));var o=e("3Pt+"),a=e("tR1z"),c=e("aceb"),r=e("vTDv"),i=e("NdjQ"),b=e("tmjD"),s=e("IuZR"),l=e("tyNb"),d=e("ydCe"),u=e("wd/R"),f=e("fXoL"),h=e("ofXK");function p(n,t){if(1&n&&(f.Tb(0,"label",4),f.Bc(1),f.Sb()),2&n){const n=f.cc(2);f.Bb(1),f.Dc("Ref\xearencia ",n.mes+"/"+n.ano,"")}}function g(n,t){if(1&n&&(f.Tb(0,"tr"),f.Tb(1,"td",20),f.Bc(2),f.Sb(),f.Tb(3,"td",20),f.Bc(4),f.Sb(),f.Tb(5,"td",20),f.Bc(6),f.dc(7,"currency"),f.Sb(),f.Sb()),2&n){const n=t.$implicit;f.Bb(2),f.Dc(" ",n.cliente.nome," "),f.Bb(2),f.Fc(" ",n.matricula.logradouro.tipoLogradouro.nome," ",n.matricula.logradouro.nome," ",n.matricula.numero," ",n.matricula.letra," "),f.Bb(2),f.Dc(" ",f.gc(7,6,n.valor,"BRL","symbol")," ")}}function m(n,t){1&n&&(f.Tb(0,"tr"),f.Tb(1,"td",21),f.Bc(2," Nenhum registro encontrado "),f.Sb(),f.Sb())}function S(n,t){if(1&n){const n=f.Ub();f.Tb(0,"nb-card",11),f.Tb(1,"nb-card-body"),f.zc(2,p,2,1,"label",12),f.Tb(3,"div",13),f.Tb(4,"div",1),f.Tb(5,"table",14),f.Tb(6,"thead"),f.Tb(7,"tr"),f.Tb(8,"th",15),f.Bc(9," Nome: "),f.Sb(),f.Tb(10,"th",15),f.Bc(11," Matr\xedcula: "),f.Sb(),f.Tb(12,"th",15),f.Bc(13," Valor: "),f.Sb(),f.Sb(),f.Sb(),f.Tb(14,"tbody"),f.zc(15,g,8,10,"tr",16),f.zc(16,m,3,0,"tr",17),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Tb(17,"nb-card-footer"),f.Tb(18,"div",1),f.Tb(19,"div",18),f.Tb(20,"button",19),f.ac("click",(function(){return f.sc(n),f.cc().gerar()})),f.Bc(21,"Gerar"),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb()}if(2&n){const n=f.cc();f.jc("nbSpinner",n.loading),f.Bb(2),f.jc("ngIf",""!=n.ano),f.Bb(13),f.jc("ngForOf",n.contratos),f.Bb(1),f.jc("ngIf",!(null!=n.contratos&&n.contratos.length))}}const T=[{path:"",component:d.a,children:[{path:"adicionar",component:(()=>{class n{constructor(n,t){this.service=n,this.boletoService=t,this.loading=!1,this.contratos=[],this.ngDataInicial=new Date,this.ngDataFinal=new Date,this.ngDataVencimento=new Date,this.mes="",this.ano=""}listarContratosPorRefererencia(){const n=u(this.ngDataVencimento).subtract(1,"months");this.mes=n.format("MM"),this.ano=n.format("YYYY"),this.service.listarPorReferencia(this.mes,this.ano).subscribe(n=>{this.contratos=n})}gerar(){this.boletos=[],this.loading=!0,this.contratos.forEach(n=>{n.referencias||(n.referencias=[]),n.referencias.push({mes:this.mes,ano:this.ano}),this.boletos.push({numero:"20201",contrato:n,referencia:{mes:this.mes,ano:this.ano},vencimento:this.ngDataVencimento,valores:[{valor:n.valor}]})}),this.service.salvarTodos(this.contratos).subscribe(()=>{this.boletoService.salvarTodos(this.boletos).subscribe(()=>{this.listarContratosPorRefererencia(),this.loading=!1})})}}return n.\u0275fac=function(t){return new(t||n)(f.Nb(i.a),f.Nb(s.a))},n.\u0275cmp=f.Hb({type:n,selectors:[["ngx-gerar-boleto-adicionar"]],decls:33,vars:8,consts:[["status","success",3,"nbSpinner"],[1,"row"],[1,"col-md-3","col-12"],[1,"form-group"],[1,"label"],["nbInput","","fullWidth","","placeholder","Form Picker",3,"nbDatepicker","ngModel","ngModelChange"],["dataInicial",""],["dataFinal",""],["dataVencimento",""],["nbButton","","outline","","fullWidth","","status","success","type","submit",3,"click"],[3,"nbSpinner",4,"ngIf"],[3,"nbSpinner"],["class","label",4,"ngIf"],[1,"col-12"],[1,"table","table-sm","table-striped"],["scope","col",1,"align-middle","font-weight-bold"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"offset-md-9","col-md-3","col-12"],["nbButton","","outline","","fullWidth","","status","basic",3,"click"],[1,"align-middle"],["colspan","3",1,"align-middle"]],template:function(n,t){if(1&n&&(f.Tb(0,"nb-card",0),f.Tb(1,"nb-card-header"),f.Bc(2," Gerar Boletos Mensais "),f.Sb(),f.Tb(3,"nb-card-body"),f.Tb(4,"div",1),f.Tb(5,"div",2),f.Tb(6,"div",3),f.Tb(7,"label",4),f.Bc(8,"* In\xedcio do per\xedodo do usufruto:"),f.Sb(),f.Tb(9,"input",5),f.ac("ngModelChange",(function(n){return t.ngDataInicial=n})),f.Sb(),f.Ob(10,"nb-datepicker",null,6),f.Sb(),f.Sb(),f.Tb(12,"div",2),f.Tb(13,"div",3),f.Tb(14,"label",4),f.Bc(15,"* Final do per\xedodo do usufruto"),f.Sb(),f.Tb(16,"input",5),f.ac("ngModelChange",(function(n){return t.ngDataFinal=n})),f.Sb(),f.Ob(17,"nb-datepicker",null,7),f.Sb(),f.Sb(),f.Tb(19,"div",2),f.Tb(20,"div",3),f.Tb(21,"label",4),f.Bc(22,"* Final do per\xedodo do usufruto"),f.Sb(),f.Tb(23,"input",5),f.ac("ngModelChange",(function(n){return t.ngDataVencimento=n})),f.Sb(),f.Ob(24,"nb-datepicker",null,8),f.Sb(),f.Sb(),f.Tb(26,"div",2),f.Tb(27,"div",3),f.Tb(28,"label",4),f.Bc(29,"A\xe7\xf5es"),f.Sb(),f.Tb(30,"button",9),f.ac("click",(function(){return t.listarContratosPorRefererencia()})),f.Bc(31,"Pr\xe9-Visualizar"),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.zc(32,S,22,4,"nb-card",10)),2&n){const n=f.qc(11),e=f.qc(18),o=f.qc(25);f.jc("nbSpinner",t.loading),f.Bb(9),f.jc("nbDatepicker",n)("ngModel",t.ngDataInicial),f.Bb(7),f.jc("nbDatepicker",e)("ngModel",t.ngDataFinal),f.Bb(7),f.jc("nbDatepicker",o)("ngModel",t.ngDataVencimento),f.Bb(9),f.jc("ngIf",t.contratos)}},directives:[c.u,c.nb,c.w,c.t,c.O,c.E,o.b,o.o,o.r,c.D,c.r,h.n,h.m,c.v],pipes:[h.d],encapsulation:2}),n})()}]}];let v=(()=>{class n{}return n.\u0275mod=f.Lb({type:n}),n.\u0275inj=f.Kb({factory:function(t){return new(t||n)},imports:[[l.g.forChild(T)],l.g]}),n})(),B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Jb({token:n,factory:n.\u0275fac}),n})(),D=(()=>{class n{}return n.\u0275mod=f.Lb({type:n}),n.\u0275inj=f.Kb({factory:function(t){return new(t||n)},providers:[B,i.a,s.a],imports:[[r.a,c.x,c.s,c.P,c.jb,a.a,c.M,o.i,o.u,c.P,c.ob,v,b.c.forChild(),c.F.forRoot()]]}),n})()},YuTi:function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}}}]);