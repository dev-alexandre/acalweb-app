!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Q68Q:function(e,o,a){"use strict";a.r(o),a.d(o,"GerarBoletoModule",(function(){return P}));var r=a("3Pt+"),i=a("tR1z"),c=a("aceb"),b=a("vTDv"),l=a("NdjQ"),s=a("tmjD"),u=a("IuZR"),d=a("tyNb"),f=a("ydCe"),p=a("wd/R"),g=a("fXoL"),h=a("ofXK");function m(n,t){if(1&n&&(g.Tb(0,"label",4),g.Bc(1),g.Sb()),2&n){var e=g.cc(2);g.Bb(1),g.Dc("Ref\xearencia ",e.mes+"/"+e.ano,"")}}function S(n,t){if(1&n&&(g.Tb(0,"tr"),g.Tb(1,"td",20),g.Bc(2),g.Sb(),g.Tb(3,"td",20),g.Bc(4),g.Sb(),g.Tb(5,"td",20),g.Bc(6),g.dc(7,"currency"),g.Sb(),g.Sb()),2&n){var e=t.$implicit;g.Bb(2),g.Dc(" ",e.cliente.nome," "),g.Bb(2),g.Fc(" ",e.matricula.logradouro.tipoLogradouro.nome," ",e.matricula.logradouro.nome," ",e.matricula.numero," ",e.matricula.letra," "),g.Bb(2),g.Dc(" ",g.gc(7,6,e.valor,"BRL","symbol")," ")}}function v(n,t){1&n&&(g.Tb(0,"tr"),g.Tb(1,"td",21),g.Bc(2," Nenhum registro encontrado "),g.Sb(),g.Sb())}function T(n,t){if(1&n){var e=g.Ub();g.Tb(0,"nb-card",11),g.Tb(1,"nb-card-body"),g.zc(2,m,2,1,"label",12),g.Tb(3,"div",13),g.Tb(4,"div",1),g.Tb(5,"table",14),g.Tb(6,"thead"),g.Tb(7,"tr"),g.Tb(8,"th",15),g.Bc(9," Nome: "),g.Sb(),g.Tb(10,"th",15),g.Bc(11," Matr\xedcula: "),g.Sb(),g.Tb(12,"th",15),g.Bc(13," Valor: "),g.Sb(),g.Sb(),g.Sb(),g.Tb(14,"tbody"),g.zc(15,S,8,10,"tr",16),g.zc(16,v,3,0,"tr",17),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Tb(17,"nb-card-footer"),g.Tb(18,"div",1),g.Tb(19,"div",18),g.Tb(20,"button",19),g.ac("click",(function(){return g.sc(e),g.cc().gerar()})),g.Bc(21,"Gerar"),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb()}if(2&n){var o=g.cc();g.jc("nbSpinner",o.loading),g.Bb(2),g.jc("ngIf",""!=o.ano),g.Bb(13),g.jc("ngForOf",o.contratos),g.Bb(1),g.jc("ngIf",!(null!=o.contratos&&o.contratos.length))}}var B,y,D,w,k=[{path:"",component:f.a,children:[{path:"adicionar",component:(B=function(){function e(t,o){n(this,e),this.service=t,this.boletoService=o,this.loading=!1,this.contratos=[],this.ngDataInicial=new Date,this.ngDataFinal=new Date,this.ngDataVencimento=new Date,this.mes="",this.ano=""}var o,a,r;return o=e,(a=[{key:"listarContratosPorRefererencia",value:function(){var n=this,t=p(this.ngDataVencimento).subtract(1,"months");this.mes=t.format("MM"),this.ano=t.format("YYYY"),this.service.listarPorReferencia(this.mes,this.ano).subscribe((function(t){n.contratos=t}))}},{key:"gerar",value:function(){var n=this;this.boletos=[],this.loading=!0,this.contratos.forEach((function(t){t.referencias||(t.referencias=[]),t.referencias.push({mes:n.mes,ano:n.ano}),n.boletos.push({numero:"20201",contrato:t,referencia:{mes:n.mes,ano:n.ano},vencimento:n.ngDataVencimento,valores:[{valor:t.valor}]})})),this.service.salvarTodos(this.contratos).subscribe((function(){n.boletoService.salvarTodos(n.boletos).subscribe((function(){n.listarContratosPorRefererencia(),n.loading=!1}))}))}}])&&t(o.prototype,a),r&&t(o,r),e}(),B.\u0275fac=function(n){return new(n||B)(g.Nb(l.a),g.Nb(u.a))},B.\u0275cmp=g.Hb({type:B,selectors:[["ngx-gerar-boleto-adicionar"]],decls:33,vars:8,consts:[["status","success",3,"nbSpinner"],[1,"row"],[1,"col-md-3","col-12"],[1,"form-group"],[1,"label"],["nbInput","","fullWidth","","placeholder","Form Picker",3,"nbDatepicker","ngModel","ngModelChange"],["dataInicial",""],["dataFinal",""],["dataVencimento",""],["nbButton","","outline","","fullWidth","","status","success","type","submit",3,"click"],[3,"nbSpinner",4,"ngIf"],[3,"nbSpinner"],["class","label",4,"ngIf"],[1,"col-12"],[1,"table","table-sm","table-striped"],["scope","col",1,"align-middle","font-weight-bold"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"offset-md-9","col-md-3","col-12"],["nbButton","","outline","","fullWidth","","status","basic",3,"click"],[1,"align-middle"],["colspan","3",1,"align-middle"]],template:function(n,t){if(1&n&&(g.Tb(0,"nb-card",0),g.Tb(1,"nb-card-header"),g.Bc(2," Gerar Boletos Mensais "),g.Sb(),g.Tb(3,"nb-card-body"),g.Tb(4,"div",1),g.Tb(5,"div",2),g.Tb(6,"div",3),g.Tb(7,"label",4),g.Bc(8,"* In\xedcio do per\xedodo do usufruto:"),g.Sb(),g.Tb(9,"input",5),g.ac("ngModelChange",(function(n){return t.ngDataInicial=n})),g.Sb(),g.Ob(10,"nb-datepicker",null,6),g.Sb(),g.Sb(),g.Tb(12,"div",2),g.Tb(13,"div",3),g.Tb(14,"label",4),g.Bc(15,"* Final do per\xedodo do usufruto"),g.Sb(),g.Tb(16,"input",5),g.ac("ngModelChange",(function(n){return t.ngDataFinal=n})),g.Sb(),g.Ob(17,"nb-datepicker",null,7),g.Sb(),g.Sb(),g.Tb(19,"div",2),g.Tb(20,"div",3),g.Tb(21,"label",4),g.Bc(22,"* Final do per\xedodo do usufruto"),g.Sb(),g.Tb(23,"input",5),g.ac("ngModelChange",(function(n){return t.ngDataVencimento=n})),g.Sb(),g.Ob(24,"nb-datepicker",null,8),g.Sb(),g.Sb(),g.Tb(26,"div",2),g.Tb(27,"div",3),g.Tb(28,"label",4),g.Bc(29,"A\xe7\xf5es"),g.Sb(),g.Tb(30,"button",9),g.ac("click",(function(){return t.listarContratosPorRefererencia()})),g.Bc(31,"Pr\xe9-Visualizar"),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.zc(32,T,22,4,"nb-card",10)),2&n){var e=g.qc(11),o=g.qc(18),a=g.qc(25);g.jc("nbSpinner",t.loading),g.Bb(9),g.jc("nbDatepicker",e)("ngModel",t.ngDataInicial),g.Bb(7),g.jc("nbDatepicker",o)("ngModel",t.ngDataFinal),g.Bb(7),g.jc("nbDatepicker",a)("ngModel",t.ngDataVencimento),g.Bb(9),g.jc("ngIf",t.contratos)}},directives:[c.u,c.nb,c.w,c.t,c.O,c.E,r.b,r.o,r.r,c.D,c.r,h.n,h.m,c.v],pipes:[h.d],encapsulation:2}),B)}]}],j=((w=function t(){n(this,t)}).\u0275mod=g.Lb({type:w}),w.\u0275inj=g.Kb({factory:function(n){return new(n||w)},imports:[[d.g.forChild(k)],d.g]}),w),M=((D=function t(){n(this,t)}).\u0275fac=function(n){return new(n||D)},D.\u0275prov=g.Jb({token:D,factory:D.\u0275fac}),D),P=((y=function t(){n(this,t)}).\u0275mod=g.Lb({type:y}),y.\u0275inj=g.Kb({factory:function(n){return new(n||y)},providers:[M,l.a,u.a],imports:[[b.a,c.x,c.s,c.P,c.jb,i.a,c.M,r.i,r.u,c.P,c.ob,j,s.c.forChild(),c.F.forRoot()]]}),y)},YuTi:function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}}}])}();