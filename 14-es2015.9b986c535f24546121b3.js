(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{TP08:function(e,t,n){"use strict";n.r(t),n.d(t,"HidrometroModule",(function(){return ee}));var r=n("3Pt+"),a=n("oG2T"),l=n("tR1z"),o=n("aceb"),i=n("BxTH"),c=n("XStL"),d=n("vTDv"),s=n("tmjD"),m=n("j9oM"),u=n("hwQp"),f=n("fXoL"),p=n("tyNb");let h=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro"]],decls:1,vars:0,template:function(e,t){1&e&&f["\u0275\u0275element"](0,"router-outlet")},directives:[p.h],encapsulation:2}),e})();var v=n("x2Ck"),b=n("CCLK"),g=n("tk/3");let S=(()=>{class e extends v.Service{constructor(e){super(e),this.http=e}getModulo(){return b.a.HIDROMETRO}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275inject"](g.b))},e.\u0275prov=f["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var E=n("9mTU"),x=n("wd/R"),y=n("NdjQ"),I=n("ofXK"),C=n("vDW2"),w=n("uG+8");function M(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275elementStart"](1,"nb-list"),f["\u0275\u0275elementStart"](2,"nb-list-item"),f["\u0275\u0275text"](3),f["\u0275\u0275pipe"](4,"number"),f["\u0275\u0275element"](5,"br"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"nb-list-item"),f["\u0275\u0275text"](7),f["\u0275\u0275pipe"](8,"number"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" Valor da \xc1gua para mil litros ",f["\u0275\u0275pipeBind4"](4,2,null==e.valorAgua?null:e.valorAgua.valor,"1.2-4","pt-BR","R$")," "),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate1"](" Quantidade de \xc1gua em litros considerada para Abono ",f["\u0275\u0275pipeBind4"](8,7,null==e.valorAgua?null:e.valorAgua.litrosGratuidade,"1.0","pt-BR","Lts")," ")}}function k(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275elementStart"](1,"td"),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"matricula"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"td"),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](3,2,e.matricula)," "),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",e.matricula.hidrometro," ")}}function O(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"tbody"),f["\u0275\u0275template"](1,k,6,4,"tr",13),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",e.contratos)}}let A=(()=>{class e{constructor(e,t,n,r,a,l){this.toast=e,this.contratoService=t,this.hidrometroService=n,this.activeRouter=r,this.router=a,this.valorAguaService=l,this.storage=sessionStorage}ngOnInit(){this.load(),this.loadData()}load(){this.referencia=JSON.parse(this.storage.getItem("[hidrometro][adicionar]")),this.storage.removeItem("[hidrometro][adicionar]"),this.referencia||this.router.navigate(["./listar"],{relativeTo:this.activeRouter.parent}),this.referenciaAnterior=this.getReferenciaAnterior(this.referencia)}loadValorAgua(){this.valorAguaService.buscarAtual().subscribe(e=>{this.valorAgua=e,this.loadData()})}getReferenciaAnterior(e){return x(e,"",!0).subtract(1,"M").format("MMYYYY")}loadData(){this.hidrometros=[],this.contratoService.listarMatriculasPorContrato(this.referencia).subscribe(e=>{this.contratos=e})}validar(){return this.hidrometros.forEach(e=>{e.hidrometro.atual<e.hidrometro.anterior&&(e.valido=!1)}),this.hidrometros.some(e=>!e.valido)}hidrometroByReferencia(e,t){return e.hidrometroList||(e.hidrometroList=[]),e.hidrometroList.find(e=>e.referencia===t)}salvar(){}voltar(){this.router.navigate(["./listar"],{relativeTo:this.activeRouter.parent})}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](o.qb),f["\u0275\u0275directiveInject"](y.a),f["\u0275\u0275directiveInject"](S),f["\u0275\u0275directiveInject"](p.a),f["\u0275\u0275directiveInject"](p.c),f["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-adicionar"]],decls:35,vars:5,consts:[["status","success"],[1,"float-left"],[1,"float-right"],[4,"ngIf"],[1,"table-responsive"],[1,"table","table-sm","table-striped"],["scope","col",1,"align-middle","font-weight-bold"],["scope","col","colspan","5"],[1,"row"],[1,"col-md-2","col-6"],["nbButton","","outline","","fullWidth","","status","basic","type","button",3,"click"],[1,"col-md-2","offset-md-8","col-6"],["nbButton","","outline","","fullWidth","","status","success","type","submit",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"nb-card",0),f["\u0275\u0275elementStart"](1,"nb-card-header"),f["\u0275\u0275elementStart"](2,"div",1),f["\u0275\u0275text"](3," Registro "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"div",2),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"referenciaPipe"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"nb-card-body"),f["\u0275\u0275template"](8,M,9,12,"ng-container",3),f["\u0275\u0275elementStart"](9,"div",4),f["\u0275\u0275elementStart"](10,"table",5),f["\u0275\u0275elementStart"](11,"thead"),f["\u0275\u0275elementStart"](12,"tr"),f["\u0275\u0275elementStart"](13,"th",6),f["\u0275\u0275text"](14," Matr\xedcula: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"th",6),f["\u0275\u0275text"](16," Hidrometro: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](17,"th",6),f["\u0275\u0275text"](18," Atual: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](19,"th",6),f["\u0275\u0275text"](20," Consumo: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"th",6),f["\u0275\u0275text"](22," Valor: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](23,O,2,1,"tbody",3),f["\u0275\u0275elementStart"](24,"tfoot"),f["\u0275\u0275elementStart"](25,"tr"),f["\u0275\u0275element"](26,"th",7),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"nb-card-footer"),f["\u0275\u0275elementStart"](28,"div",8),f["\u0275\u0275elementStart"](29,"div",9),f["\u0275\u0275elementStart"](30,"button",10),f["\u0275\u0275listener"]("click",(function(){return t.voltar()})),f["\u0275\u0275text"](31,"voltar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](32,"div",11),f["\u0275\u0275elementStart"](33,"button",12),f["\u0275\u0275listener"]("click",(function(){return t.salvar()})),f["\u0275\u0275text"](34,"Salvar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](6,3,t.referencia)," "),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",t.valorAgua),f["\u0275\u0275advance"](15),f["\u0275\u0275property"]("ngIf",t.contratos))},directives:[o.q,o.s,o.p,I.o,o.r,o.n,o.Q,o.R,I.n],pipes:[C.a,I.g,w.a],styles:[".nb-theme-default   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}.nb-theme-cosmic   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#fff}.nb-theme-corporate   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}"]}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-deletar"]],decls:12,vars:0,consts:[["status","danger"],[1,"row"],[1,"col-md-2","col-6"],["nbButton","","outline","","fullWidth","","status","basic"],[1,"col-md-2","offset-md-8","col-6"],["nbButton","","outline","","fullWidth","","status","danger","type","button"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"nb-card",0),f["\u0275\u0275elementStart"](1,"nb-card-header"),f["\u0275\u0275text"](2," Hidr\xf4metro "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](3,"nb-card-body"),f["\u0275\u0275elementStart"](4,"nb-card-footer"),f["\u0275\u0275elementStart"](5,"div",1),f["\u0275\u0275elementStart"](6,"div",2),f["\u0275\u0275elementStart"](7,"button",3),f["\u0275\u0275text"](8,"voltar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"div",4),f["\u0275\u0275elementStart"](10,"button",5),f["\u0275\u0275text"](11,"Deletar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]())},directives:[o.q,o.s,o.p,o.r,o.n],encapsulation:2}),e})(),B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-editar"]],decls:16,vars:0,consts:[["novalidate","",1,"needs-validation"],["status","warning"],[1,"row"],[1,"col-md-3","col-12"],[1,"form-group"],[1,"col-md-2","col-6"],["nbButton","","outline","","fullWidth","","status","basic","type","reset"],[1,"col-md-2","offset-md-8","col-6"],["nbButton","","outline","","fullWidth","","status","success","type","submit"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"form",0),f["\u0275\u0275elementStart"](1,"nb-card",1),f["\u0275\u0275elementStart"](2,"nb-card-header"),f["\u0275\u0275text"](3," Hidr\xf4metro "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"nb-card-body"),f["\u0275\u0275elementStart"](5,"div",2),f["\u0275\u0275elementStart"](6,"div",3),f["\u0275\u0275element"](7,"div",4),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](8,"nb-card-footer"),f["\u0275\u0275elementStart"](9,"div",2),f["\u0275\u0275elementStart"](10,"div",5),f["\u0275\u0275elementStart"](11,"button",6),f["\u0275\u0275text"](12,"voltar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"div",7),f["\u0275\u0275elementStart"](14,"button",8),f["\u0275\u0275text"](15,"Salvar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]())},directives:[r.w,r.p,r.q,o.q,o.s,o.p,o.r,o.n],encapsulation:2}),e})();var R=n("8Va2"),P=n("NGTt");function j(e,t){1&e&&f["\u0275\u0275element"](0,"nb-icon",15)}function G(e,t){1&e&&f["\u0275\u0275element"](0,"nb-icon",16)}function W(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,j,1,0,"nb-icon",13),f["\u0275\u0275template"](2,G,1,0,"nb-icon",14),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.filtro.matricula.asc),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!e.filtro.matricula.asc)}}function _(e,t){1&e&&f["\u0275\u0275element"](0,"nb-icon",15)}function F(e,t){1&e&&f["\u0275\u0275element"](0,"nb-icon",16)}function T(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,_,1,0,"nb-icon",13),f["\u0275\u0275template"](2,F,1,0,"nb-icon",14),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.filtro.referencia.asc),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!e.filtro.referencia.asc)}}function D(e,t){1&e&&f["\u0275\u0275element"](0,"nb-icon",15)}function V(e,t){1&e&&f["\u0275\u0275element"](0,"nb-icon",16)}function H(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,D,1,0,"nb-icon",13),f["\u0275\u0275template"](2,V,1,0,"nb-icon",14),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.filtro.atual.asc),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!e.filtro.atual.asc)}}function N(e,t){1&e&&f["\u0275\u0275element"](0,"nb-icon",15)}function Y(e,t){1&e&&f["\u0275\u0275element"](0,"nb-icon",16)}function q(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,N,1,0,"nb-icon",13),f["\u0275\u0275template"](2,Y,1,0,"nb-icon",14),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.filtro.anterior.asc),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!e.filtro.anterior.asc)}}function J(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275elementStart"](1,"td",18),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"td",18),f["\u0275\u0275text"](4),f["\u0275\u0275pipe"](5,"referenciaPipe"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"td",18),f["\u0275\u0275text"](7),f["\u0275\u0275pipe"](8,"number"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"td",18),f["\u0275\u0275text"](10),f["\u0275\u0275pipe"](11,"number"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"td",18),f["\u0275\u0275text"](13),f["\u0275\u0275pipe"](14,"number"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"td",18),f["\u0275\u0275text"](16),f["\u0275\u0275pipe"](17,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](18,"td",18),f["\u0275\u0275elementStart"](19,"button",19),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](e);const t=f["\u0275\u0275nextContext"](2);return t.editar(t.data)})),f["\u0275\u0275element"](20,"nb-icon",20),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"td",18),f["\u0275\u0275elementStart"](22,"button",21),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](e);const t=f["\u0275\u0275nextContext"](2);return t.deletar(t.data)})),f["\u0275\u0275element"](23,"nb-icon",22),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",e.matricula," "),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](5,6,e.referencia)," "),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](8,8,e.anterior)," "),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](11,10,e.atual)," "),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](14,12,e.atual-e.anterior)," "),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind3"](17,14,(e.atual-e.anterior)*e.valorLitroAgua,"BRL","symbol")," ")}}function Q(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"tbody"),f["\u0275\u0275template"](1,J,24,18,"tr",17),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",e.table.content)}}function X(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"tbody"),f["\u0275\u0275elementStart"](1,"tr"),f["\u0275\u0275elementStart"](2,"td",23),f["\u0275\u0275text"](3," Nenhum registro encontrado "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]())}let z=(()=>{class e extends v.ListarComponent{constructor(e,t,n){super(e,t,n),this.router=e,this.activeRouter=t,this.service=n}ngOnInit(){super.init(),this.initFiltro(),super.filtro=this.filtro}initFiltro(){this.filtro={page:0,size:5,ativo:{valor:null,asc:null},matricula:{valor:null,asc:null},referencia:{valor:null,asc:null},atual:{valor:null,asc:null},anterior:{valor:null,asc:null},valorLitroAgua:{valor:null,asc:null},litrosGratuidade:{valor:null,asc:null}}}order(e){"matricula"===e?this.filtro.matricula.asc?this.filtro.matricula.asc=!this.filtro.matricula.asc:(this.filtro.matricula.asc=!0,this.filtro.matricula.order=["matricula"]):(this.filtro.matricula.asc=null,this.filtro.matricula.order=null),"referencia"===e?this.filtro.referencia.asc?this.filtro.referencia.asc=!this.filtro.referencia.asc:(this.filtro.referencia.asc=!0,this.filtro.referencia.order=["referencia"]):(this.filtro.referencia.asc=null,this.filtro.referencia.order=null),"atual"===e?this.filtro.atual.asc?this.filtro.atual.asc=!this.filtro.atual.asc:(this.filtro.atual.asc=!0,this.filtro.atual.order=["atual"]):(this.filtro.atual.asc=null,this.filtro.atual.order=null),"anterior"===e?this.filtro.anterior.asc?this.filtro.anterior.asc=!this.filtro.anterior.asc:(this.filtro.anterior.asc=!0,this.filtro.anterior.order=["anterior"]):(this.filtro.anterior.asc=null,this.filtro.anterior.order=null),"valorLitroAgua"===e?this.filtro.valorLitroAgua.asc?this.filtro.valorLitroAgua.asc=!this.filtro.valorLitroAgua.asc:(this.filtro.valorLitroAgua.asc=!0,this.filtro.valorLitroAgua.order=["valorLitroAgua"]):(this.filtro.valorLitroAgua.asc=null,this.filtro.valorLitroAgua.order=null),"litrosGratuidade"===e?this.filtro.litrosGratuidade.asc?this.filtro.litrosGratuidade.asc=!this.filtro.litrosGratuidade.asc:(this.filtro.litrosGratuidade.asc=!0,this.filtro.litrosGratuidade.order=["litrosGratuidade"]):(this.filtro.litrosGratuidade.asc=null,this.filtro.litrosGratuidade.order=null),this.load()}getModulo(){return R.b.HIDROMETRO}selecionar(){this.router.navigate(["./selecionar"],{relativeTo:this.activeRouter.parent})}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](p.c),f["\u0275\u0275directiveInject"](p.a),f["\u0275\u0275directiveInject"](S))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-listar"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:45,vars:16,consts:[[3,"loading","title","table","filtro","buscar"],[1,"table","table-sm","table-striped"],["scope","col",1,"align-middle","font-weight-bold",3,"click"],[4,"ngIf"],["scope","col",1,"align-middle","font-weight-bold"],["scope","col","colspan","2"],["nbButton","","outline","","fullWidth","","status","success",3,"click"],["icon","plus-outline"],["nbInput","","fullWidth","","type","text",1,"form-control",3,"ngModel","keydown.enter","ngModelChange"],["colspan","2"],["nbButton","","outline","","fullWidth","","status","info",3,"click"],["icon","search-outline"],["scope","col","colspan","6"],["icon","arrow-downward-outline",4,"ngIf"],["icon","arrow-upward-outline",4,"ngIf"],["icon","arrow-downward-outline"],["icon","arrow-upward-outline"],[4,"ngFor","ngForOf"],[1,"align-middle"],["nbButton","","outline","","fullWidth","","status","warning",3,"click"],["icon","edit-outline"],["nbButton","","outline","","fullWidth","","status","danger",3,"click"],["icon","trash-2-outline"],["colspan","8",1,"align-middle"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"ngx-table",0),f["\u0275\u0275listener"]("buscar",(function(){return t.load()})),f["\u0275\u0275elementStart"](1,"table",1),f["\u0275\u0275elementStart"](2,"thead"),f["\u0275\u0275elementStart"](3,"tr"),f["\u0275\u0275elementStart"](4,"th",2),f["\u0275\u0275listener"]("click",(function(){return t.order("matricula")})),f["\u0275\u0275text"](5," Matr\xedcula: "),f["\u0275\u0275template"](6,W,3,2,"ng-container",3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"th",2),f["\u0275\u0275listener"]("click",(function(){return t.order("referencia")})),f["\u0275\u0275text"](8," Refer\xeancia: "),f["\u0275\u0275template"](9,T,3,2,"ng-container",3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](10,"th",2),f["\u0275\u0275listener"]("click",(function(){return t.order("atual")})),f["\u0275\u0275text"](11," Atual: "),f["\u0275\u0275template"](12,H,3,2,"ng-container",3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"th",2),f["\u0275\u0275listener"]("click",(function(){return t.order("anterior")})),f["\u0275\u0275text"](14," Anterior: "),f["\u0275\u0275template"](15,q,3,2,"ng-container",3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"th",4),f["\u0275\u0275text"](17," Consumo: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](18,"th",4),f["\u0275\u0275text"](19," Valor: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](20,"th",5),f["\u0275\u0275elementStart"](21,"button",6),f["\u0275\u0275listener"]("click",(function(){return t.selecionar()})),f["\u0275\u0275element"](22,"nb-icon",7),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](23,"thead"),f["\u0275\u0275elementStart"](24,"tr"),f["\u0275\u0275elementStart"](25,"th"),f["\u0275\u0275elementStart"](26,"input",8),f["\u0275\u0275listener"]("keydown.enter",(function(){return t.load()}))("ngModelChange",(function(e){return t.filtro.matricula.valor=e})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"th"),f["\u0275\u0275elementStart"](28,"input",8),f["\u0275\u0275listener"]("keydown.enter",(function(){return t.load()}))("ngModelChange",(function(e){return t.filtro.referencia.valor=e})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](29,"th"),f["\u0275\u0275elementStart"](30,"input",8),f["\u0275\u0275listener"]("keydown.enter",(function(){return t.load()}))("ngModelChange",(function(e){return t.filtro.atual.valor=e})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](31,"th"),f["\u0275\u0275elementStart"](32,"input",8),f["\u0275\u0275listener"]("keydown.enter",(function(){return t.load()}))("ngModelChange",(function(e){return t.filtro.anterior.valor=e})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](33,"th"),f["\u0275\u0275elementStart"](34,"input",8),f["\u0275\u0275listener"]("keydown.enter",(function(){return t.load()}))("ngModelChange",(function(e){return t.filtro.anterior.valor=e})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](35,"th"),f["\u0275\u0275elementStart"](36,"input",8),f["\u0275\u0275listener"]("keydown.enter",(function(){return t.load()}))("ngModelChange",(function(e){return t.filtro.anterior.valor=e})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](37,"th",9),f["\u0275\u0275elementStart"](38,"button",10),f["\u0275\u0275listener"]("click",(function(){return t.load()})),f["\u0275\u0275element"](39,"nb-icon",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](40,Q,2,1,"tbody",3),f["\u0275\u0275template"](41,X,4,0,"tbody",3),f["\u0275\u0275elementStart"](42,"tfoot"),f["\u0275\u0275elementStart"](43,"tr"),f["\u0275\u0275element"](44,"th",12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("loading",t.loading)("title","Grupo")("table",t.table)("filtro",t.filtro),f["\u0275\u0275advance"](6),f["\u0275\u0275property"]("ngIf",null!==t.filtro.matricula.asc),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",null!==t.filtro.referencia.asc),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",null!==t.filtro.atual.asc),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",null!==t.filtro.anterior.asc),f["\u0275\u0275advance"](11),f["\u0275\u0275property"]("ngModel",t.filtro.matricula.valor),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.filtro.referencia.valor),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.filtro.atual.valor),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.filtro.anterior.valor),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.filtro.anterior.valor),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.filtro.anterior.valor),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",t.table&&!(null!=t.table&&t.table.empty)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",null==t.table?null:t.table.empty))},directives:[P.a,I.o,o.n,o.F,o.I,r.a,r.o,r.r,I.n],pipes:[C.a,I.g,I.d],styles:[".nb-theme-default   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}.nb-theme-cosmic   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#fff}.nb-theme-corporate   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}"]}),e})();var $=n("FPPW");const K=function(){return["../listar"]},U=[{path:"",component:h,children:[{path:"listar",component:z},{path:"adicionar",component:A},{path:"deletar",component:L},{path:"editar",component:B},{path:"selecionar",component:(()=>{class e{constructor(e,t,n){this.router=e,this.activeRouter=t,this.service=n,this.storage=sessionStorage,this.submited=!1}ngOnInit(){this.loadForm()}loadForm(){this.form=new r.g({referencia:new r.d(x(new Date).format("MMYYYY"),[r.v.required,r.v.minLength(6),r.v.maxLength(6),$.a.isReferencia()])})}OnSubmit(){this.submited=!0,this.form.invalid||(this.storage.setItem("[hidrometro][adicionar]",JSON.stringify(this.referencia.value)),this.router.navigate(["./adicionar"],{relativeTo:this.activeRouter.parent}))}getStatus(e){return this.submited?this.form.get(e).valid?"success":"danger":"basic"}get referencia(){return this.form.get("referencia")}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](p.c),f["\u0275\u0275directiveInject"](p.a),f["\u0275\u0275directiveInject"](S))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-selecionar"]],decls:29,vars:6,consts:[[1,"needs-validation",3,"formGroup","ngSubmit"],["status","success"],[1,"row"],[1,"col-md-3","col-12"],[1,"form-group"],[1,"label"],["nbInput","","fullWidth","","type","text","placeholder","Refer\xeancia",1,"form-control",3,"mask","formControl","status"],[1,"valid-feedback"],[1,"invalid-feedback"],[1,"col-md-3","offset-md-6","col-12"],["nbButton","","outline","","fullWidth","","status","success","type","submit"],["routerLinkActive","active","nbButton","","outline","","fullWidth","","status","basic","type","button",3,"routerLink"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"form",0),f["\u0275\u0275listener"]("ngSubmit",(function(){return t.OnSubmit()})),f["\u0275\u0275elementStart"](1,"nb-card",1),f["\u0275\u0275elementStart"](2,"nb-card-header"),f["\u0275\u0275text"](3," Hidrom\xeatros "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"nb-card-body"),f["\u0275\u0275elementStart"](5,"div",2),f["\u0275\u0275elementStart"](6,"div",3),f["\u0275\u0275elementStart"](7,"div",4),f["\u0275\u0275elementStart"](8,"label",5),f["\u0275\u0275text"](9,"* Refer\xeancia:"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](10,"input",6),f["\u0275\u0275elementStart"](11,"div",7),f["\u0275\u0275text"](12," V\xe1lido "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"div",8),f["\u0275\u0275text"](14," Inv\xe1lido "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"div",9),f["\u0275\u0275elementStart"](16,"div",4),f["\u0275\u0275elementStart"](17,"label",5),f["\u0275\u0275text"](18,"A\xe7\xf5es"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](19,"button",10),f["\u0275\u0275text"](20,"Pr\xe9-Visualizar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"nb-card-footer"),f["\u0275\u0275elementStart"](22,"div",2),f["\u0275\u0275elementStart"](23,"div",3),f["\u0275\u0275elementStart"](24,"div",4),f["\u0275\u0275elementStart"](25,"label",5),f["\u0275\u0275text"](26,"A\xe7\xf5es"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"button",11),f["\u0275\u0275text"](28," Voltar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("formGroup",t.form),f["\u0275\u0275advance"](10),f["\u0275\u0275property"]("mask","00/0000")("formControl",t.referencia)("status",t.getStatus("referencia")),f["\u0275\u0275advance"](17),f["\u0275\u0275property"]("routerLink",f["\u0275\u0275pureFunction0"](5,K)))},directives:[r.w,r.p,r.h,o.q,o.s,o.p,o.I,s.a,r.a,r.o,r.e,o.n,o.r,p.e,p.d],encapsulation:2}),e})()}]}];let Z=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[p.g.forChild(U)],p.g]}),e})(),ee=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[m.a,S],imports:[[d.a,o.t,o.o,o.J,o.fb,l.a,o.H,r.j,r.t,o.J,Z,o.A,a.a,i.a,c.a,o.ub,o.kb,s.c.forChild(),u.FinanceiroModule,o.S]]}),e})()},"uG+8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("fXoL");let a=(()=>{class e{transform(e,t){return e?e.letra?e.logradouro.tipoLogradouro.nome+" "+e.logradouro.nome+" "+e.numero+" "+e.letra:e.logradouro.tipoLogradouro.nome+" "+e.logradouro.nome+" "+e.numero:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"matricula",type:e,pure:!0}),e})()}}]);