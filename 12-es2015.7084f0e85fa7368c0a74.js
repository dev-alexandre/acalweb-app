(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{BCCP:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("wd/R");class a{constructor(){}static isDate(){return e=>{const t=e.value;return t?r(t,"DDMMYYYY",!0).isValid()?null:{cpfNotValid:!0}:null}}}},BxTH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[]]}),e})()},FPPW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("wd/R");class a{constructor(){}static isReferencia(){return e=>{const t=e.value;return t?r(t,"MMYYYY",!0).isValid()?null:{referenciaNotValid:!0}:null}}}},Q68Q:function(e,t,n){"use strict";n.r(t),n.d(t,"GerarBoletoModule",(function(){return j}));var r=n("BxTH"),a=n("3Pt+"),o=n("tR1z"),i=n("aceb"),l=n("vTDv"),s=n("NdjQ"),c=n("tmjD"),d=n("IuZR"),m=n("tyNb"),u=n("ydCe"),f=n("fXoL"),p=n("ofXK");let h=(()=>{class e{constructor(){this.dot=".",this.travessal="/"}transform(e,t){return e?11===e.length?e.substring(0,3)+this.dot+e.substring(3,6)+this.dot+e.substring(6,9)+this.dot+e.substring(9,11):14===e.length?e.substring(0,2)+this.dot+e.substring(2,5)+this.dot+e.substring(5,8)+this.dot+e.substring(8,12)+this.travessal+e.substring(12,14):void 0:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=f["\u0275\u0275definePipe"]({name:"documento",type:e,pure:!0}),e})(),v=(()=>{class e{constructor(){this.space=" "}transform(e,t){return e?e.logradouro.tipoLogradouro.nome+this.space+e.logradouro.nome:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=f["\u0275\u0275definePipe"]({name:"logradouro",type:e,pure:!0}),e})();function g(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275elementStart"](1,"td",11),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"td",11),f["\u0275\u0275text"](4),f["\u0275\u0275pipe"](5,"documento"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"td",11),f["\u0275\u0275text"](7),f["\u0275\u0275pipe"](8,"logradouro"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"td",11),f["\u0275\u0275text"](10),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"td",11),f["\u0275\u0275text"](12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"td",11),f["\u0275\u0275text"](14),f["\u0275\u0275pipe"](15,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"td",11),f["\u0275\u0275elementStart"](17,"nb-checkbox",12),f["\u0275\u0275listener"]("ngModelChange",(function(n){return f["\u0275\u0275restoreView"](e),t.$implicit.check=n})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",e.contrato.cliente.nome," "),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](5,7,e.contrato.cliente.documento)," "),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](8,9,e.contrato.matricula)," "),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",e.contrato.matricula.numero," "),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",e.contrato.matricula.letra," "),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind3"](15,11,e.contrato.valor,"BRL","symbol")," "),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngModel",e.check)}}function b(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275elementStart"](1,"td",13),f["\u0275\u0275text"](2," Nenhum registro encontrado "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]())}let S=(()=>{class e{constructor(e,t,n,r){this.router=e,this.activeRouter=t,this.service=n,this.boletoService=r,this.storage=sessionStorage,this.loading=!1,this.selectAll=!0}ngOnInit(){this.data=JSON.parse(this.storage.getItem("[gerar-boleto][adicionar]")),this.storage.removeItem("[gerar-boleto][adicionar]"),this.data||this.router.navigate(["./listar"],{relativeTo:this.activeRouter.parent}),this.listarContratosPorRefererencia()}listarContratosPorRefererencia(){this.contratos=[],this.service.listarPorReferencia(this.data.referencia).subscribe(e=>{e.forEach(e=>{this.contratos.push({contrato:e,check:!0})})})}selecionarTodos(){this.contratos.forEach(e=>{e.check=this.selectAll})}gerar(){}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](m.c),f["\u0275\u0275directiveInject"](m.a),f["\u0275\u0275directiveInject"](s.a),f["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-gerar-boleto-adicionar"]],decls:33,vars:3,consts:[["status","success"],[1,"label"],[1,"col-12"],[1,"row"],[1,"table","table-sm","table-striped"],["scope","col",1,"align-middle","font-weight-bold"],[1,"align-center",3,"ngModel","ngModelChange","click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"offset-md-9","col-md-3","col-12"],["nbButton","","outline","","fullWidth","","status","basic"],[1,"align-middle"],[1,"align-center",3,"ngModel","ngModelChange"],["colspan","3",1,"align-middle"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"nb-card",0),f["\u0275\u0275elementStart"](1,"nb-card-header"),f["\u0275\u0275text"](2," Gerar Boletos "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"nb-card-body"),f["\u0275\u0275elementStart"](4,"label",1),f["\u0275\u0275text"](5,"Ref\xearencia "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"div",2),f["\u0275\u0275elementStart"](7,"div",3),f["\u0275\u0275elementStart"](8,"table",4),f["\u0275\u0275elementStart"](9,"thead"),f["\u0275\u0275elementStart"](10,"tr"),f["\u0275\u0275elementStart"](11,"th",5),f["\u0275\u0275text"](12," Nome: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"th",5),f["\u0275\u0275text"](14," Documento: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"th",5),f["\u0275\u0275text"](16," Logradouro: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](17,"th",5),f["\u0275\u0275text"](18," N\xfamero: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](19,"th",5),f["\u0275\u0275text"](20," Letra: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"th",5),f["\u0275\u0275text"](22," Valor: "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](23,"th",5),f["\u0275\u0275elementStart"](24,"nb-checkbox",6),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectAll=e}))("click",(function(){return t.selecionarTodos()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](25,"tbody"),f["\u0275\u0275template"](26,g,18,15,"tr",7),f["\u0275\u0275template"](27,b,3,0,"tr",8),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](28,"nb-card-footer"),f["\u0275\u0275elementStart"](29,"div",3),f["\u0275\u0275elementStart"](30,"div",9),f["\u0275\u0275elementStart"](31,"button",10),f["\u0275\u0275text"](32,"Gerar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](24),f["\u0275\u0275property"]("ngModel",t.selectAll),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",t.contratos),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!(null!=t.contratos&&t.contratos.length)))},directives:[i.q,i.s,i.p,i.u,a.q,a.t,p.n,p.o,i.r,i.n],pipes:[h,v,p.d],encapsulation:2}),e})();var E=n("BCCP"),x=n("FPPW");const I=function(e,t){return{"is-valid":e,"is-invalid":t}},y=[{path:"",component:u.a,children:[{path:"adicionar",component:S},{path:"selecionar",component:(()=>{class e{constructor(e,t,n,r){this.service=e,this.router=t,this.activeRouter=n,this.boletoService=r,this.storage=sessionStorage,this.loading=!1,this.submited=!1}ngOnInit(){this.loadForm()}loadForm(){this.form=new a.h({referencia:new a.e(null,[a.z.required,a.z.minLength(6),a.z.maxLength(6),x.a.isReferencia()]),vencimento:new a.e(null,[a.z.required,a.z.minLength(8),a.z.maxLength(8),E.a.isDate()])})}OnSubmit(){this.submited=!0,this.form.invalid||(this.storage.setItem("[gerar-boleto][adicionar]",JSON.stringify(this.form.value)),this.router.navigate(["./adicionar"],{relativeTo:this.activeRouter.parent}))}getStatus(e){return this.submited?this.form.get(e).valid?"success":"danger":"basic"}get referencia(){return this.form.get("referencia")}get vencimento(){return this.form.get("vencimento")}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](s.a),f["\u0275\u0275directiveInject"](m.c),f["\u0275\u0275directiveInject"](m.a),f["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-gerar-boleto-selecionar"]],decls:30,vars:16,consts:[["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["status","success",3,"nbSpinner"],[1,"row"],[1,"col-md-3","col-12"],[1,"form-group"],[1,"label"],["nbInput","","fullWidth","","type","text","placeholder","Refer\xeancia",1,"form-control",3,"mask","status","ngClass","formControl"],[1,"valid-feedback"],[1,"invalid-feedback"],["nbInput","","fullWidth","","type","text","placeholder","vencimento",1,"form-control",3,"mask","status","ngClass","formControl"],[1,"col-md-3","offset-md-3","col-12"],["nbButton","","outline","","fullWidth","","status","success","type","submit"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"form",0),f["\u0275\u0275listener"]("ngSubmit",(function(){return t.OnSubmit()})),f["\u0275\u0275elementStart"](1,"nb-card",1),f["\u0275\u0275elementStart"](2,"nb-card-header"),f["\u0275\u0275text"](3," Gerar Boletos Mensais "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"nb-card-body"),f["\u0275\u0275elementStart"](5,"div",2),f["\u0275\u0275elementStart"](6,"div",3),f["\u0275\u0275elementStart"](7,"div",4),f["\u0275\u0275elementStart"](8,"label",5),f["\u0275\u0275text"](9,"* Refer\xeancia:"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](10,"input",6),f["\u0275\u0275elementStart"](11,"div",7),f["\u0275\u0275text"](12," V\xe1lido "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"div",8),f["\u0275\u0275text"](14," Inv\xe1lido "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"div",3),f["\u0275\u0275elementStart"](16,"div",4),f["\u0275\u0275elementStart"](17,"label",5),f["\u0275\u0275text"](18,"* Vencimento:"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](19,"input",9),f["\u0275\u0275elementStart"](20,"div",7),f["\u0275\u0275text"](21," V\xe1lido "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](22,"div",8),f["\u0275\u0275text"](23," Inv\xe1lido "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](24,"div",10),f["\u0275\u0275elementStart"](25,"div",4),f["\u0275\u0275elementStart"](26,"label",5),f["\u0275\u0275text"](27,"A\xe7\xf5es"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](28,"button",11),f["\u0275\u0275text"](29,"Pr\xe9-Visualizar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("formGroup",t.form),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("nbSpinner",t.loading),f["\u0275\u0275advance"](9),f["\u0275\u0275property"]("mask","00/0000")("status",t.getStatus("referencia"))("ngClass",f["\u0275\u0275pureFunction2"](10,I,t.referencia.valid&&t.submited,t.referencia.invalid&&t.submited))("formControl",t.referencia),f["\u0275\u0275advance"](9),f["\u0275\u0275property"]("mask","00/00/0000")("status",t.getStatus("vencimento"))("ngClass",f["\u0275\u0275pureFunction2"](13,I,t.vencimento.valid&&t.submited,t.vencimento.invalid&&t.submited))("formControl",t.vencimento))},directives:[a.B,a.r,a.i,i.q,i.ib,i.s,i.p,i.I,c.a,a.b,p.m,a.q,a.f,i.n],encapsulation:2}),e})()},{path:"",redirectTo:"selecionar",pathMatch:"full"},{path:"**",redirectTo:"selecionar"}]}];let w=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[m.g.forChild(y)],m.g]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=f["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),j=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[C,s.a,d.a],imports:[[l.a,i.t,i.o,i.J,i.eb,o.a,i.H,a.k,a.w,i.J,i.jb,w,i.v,i.ub,c.c.forChild(),i.A.forRoot(),r.a]]}),e})()}}]);