!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{BCCP:function(t,r,i){"use strict";i.d(r,"a",(function(){return a}));var o=i("wd/R"),a=function(){function t(){e(this,t)}return n(t,null,[{key:"isDate",value:function(){return function(e){var t=e.value;return t?o(t,"DDMMYYYY",!0).isValid()?null:{cpfNotValid:!0}:null}}}]),t}()},BxTH:function(t,n,r){"use strict";r.d(n,"a",(function(){return o}));var i=r("fXoL"),o=function(){var t=function t(){e(this,t)};return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[],imports:[[]]}),t}()},FPPW:function(t,r,i){"use strict";i.d(r,"a",(function(){return a}));var o=i("wd/R"),a=function(){function t(){e(this,t)}return n(t,null,[{key:"isReferencia",value:function(){return function(e){var t=e.value;return t?o(t,"MMYYYY",!0).isValid()?null:{referenciaNotValid:!0}:null}}}]),t}()},Q68Q:function(t,r,i){"use strict";i.r(r),i.d(r,"GerarBoletoModule",(function(){return T}));var o,a,l=i("BxTH"),c=i("3Pt+"),s=i("tR1z"),d=i("aceb"),u=i("vTDv"),m=i("NdjQ"),f=i("tmjD"),p=i("IuZR"),v=i("tyNb"),h=i("ydCe"),g=i("fXoL"),b=i("ofXK"),S=((a=function(){function t(){e(this,t),this.dot=".",this.travessal="/"}return n(t,[{key:"transform",value:function(e,t){return e?11===e.length?e.substring(0,3)+this.dot+e.substring(3,6)+this.dot+e.substring(6,9)+this.dot+e.substring(9,11):14===e.length?e.substring(0,2)+this.dot+e.substring(2,5)+this.dot+e.substring(5,8)+this.dot+e.substring(8,12)+this.travessal+e.substring(12,14):void 0:""}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275pipe=g["\u0275\u0275definePipe"]({name:"documento",type:a,pure:!0}),a),E=((o=function(){function t(){e(this,t),this.space=" "}return n(t,[{key:"transform",value:function(e,t){return e?e.logradouro.tipoLogradouro.nome+this.space+e.logradouro.nome:""}}]),t}()).\u0275fac=function(e){return new(e||o)},o.\u0275pipe=g["\u0275\u0275definePipe"]({name:"logradouro",type:o,pure:!0}),o);function y(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"tr"),g["\u0275\u0275elementStart"](1,"td",11),g["\u0275\u0275text"](2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"td",11),g["\u0275\u0275text"](4),g["\u0275\u0275pipe"](5,"documento"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td",11),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"logradouro"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"td",11),g["\u0275\u0275text"](10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td",11),g["\u0275\u0275text"](12),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"td",11),g["\u0275\u0275text"](14),g["\u0275\u0275pipe"](15,"currency"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"td",11),g["\u0275\u0275elementStart"](17,"nb-checkbox",12),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),t.$implicit.check=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",r.contrato.cliente.nome," "),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](5,7,r.contrato.cliente.documento)," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](8,9,r.contrato.matricula)," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",r.contrato.matricula.numero," "),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",r.contrato.matricula.letra," "),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind3"](15,11,r.contrato.valor,"BRL","symbol")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",r.check)}}function x(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"tr"),g["\u0275\u0275elementStart"](1,"td",13),g["\u0275\u0275text"](2," Nenhum registro encontrado "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}var k,I,w,C,j,M=((k=function(){function t(n,r,i,o){e(this,t),this.router=n,this.activeRouter=r,this.service=i,this.boletoService=o,this.storage=sessionStorage,this.loading=!1,this.selectAll=!0}return n(t,[{key:"ngOnInit",value:function(){this.data=JSON.parse(this.storage.getItem("[gerar-boleto][adicionar]")),this.storage.removeItem("[gerar-boleto][adicionar]"),this.data||this.router.navigate(["./listar"],{relativeTo:this.activeRouter.parent}),this.listarContratosPorRefererencia()}},{key:"listarContratosPorRefererencia",value:function(){var e=this;this.contratos=[],this.service.listarPorReferencia(this.data.referencia).subscribe((function(t){t.forEach((function(t){e.contratos.push({contrato:t,check:!0})}))}))}},{key:"selecionarTodos",value:function(){var e=this;this.contratos.forEach((function(t){t.check=e.selectAll}))}},{key:"gerar",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||k)(g["\u0275\u0275directiveInject"](v.c),g["\u0275\u0275directiveInject"](v.a),g["\u0275\u0275directiveInject"](m.a),g["\u0275\u0275directiveInject"](p.a))},k.\u0275cmp=g["\u0275\u0275defineComponent"]({type:k,selectors:[["ngx-gerar-boleto-adicionar"]],decls:33,vars:3,consts:[["status","success"],[1,"label"],[1,"col-12"],[1,"row"],[1,"table","table-sm","table-striped"],["scope","col",1,"align-middle","font-weight-bold"],[1,"align-center",3,"ngModel","ngModelChange","click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"offset-md-9","col-md-3","col-12"],["nbButton","","outline","","fullWidth","","status","basic"],[1,"align-middle"],[1,"align-center",3,"ngModel","ngModelChange"],["colspan","3",1,"align-middle"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"nb-card",0),g["\u0275\u0275elementStart"](1,"nb-card-header"),g["\u0275\u0275text"](2," Gerar Boletos "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"nb-card-body"),g["\u0275\u0275elementStart"](4,"label",1),g["\u0275\u0275text"](5,"Ref\xearencia "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"div",2),g["\u0275\u0275elementStart"](7,"div",3),g["\u0275\u0275elementStart"](8,"table",4),g["\u0275\u0275elementStart"](9,"thead"),g["\u0275\u0275elementStart"](10,"tr"),g["\u0275\u0275elementStart"](11,"th",5),g["\u0275\u0275text"](12," Nome: "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"th",5),g["\u0275\u0275text"](14," Documento: "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"th",5),g["\u0275\u0275text"](16," Logradouro: "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th",5),g["\u0275\u0275text"](18," N\xfamero: "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"th",5),g["\u0275\u0275text"](20," Letra: "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"th",5),g["\u0275\u0275text"](22," Valor: "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th",5),g["\u0275\u0275elementStart"](24,"nb-checkbox",6),g["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectAll=e}))("click",(function(){return t.selecionarTodos()})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"tbody"),g["\u0275\u0275template"](26,y,18,15,"tr",7),g["\u0275\u0275template"](27,x,3,0,"tr",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"nb-card-footer"),g["\u0275\u0275elementStart"](29,"div",3),g["\u0275\u0275elementStart"](30,"div",9),g["\u0275\u0275elementStart"](31,"button",10),g["\u0275\u0275text"](32,"Gerar"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](24),g["\u0275\u0275property"]("ngModel",t.selectAll),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.contratos),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!(null!=t.contratos&&t.contratos.length)))},directives:[d.q,d.s,d.p,d.u,c.q,c.t,b.n,b.o,d.r,d.n],pipes:[S,E,b.d],encapsulation:2}),k),R=i("BCCP"),B=i("FPPW"),P=function(e,t){return{"is-valid":e,"is-invalid":t}},N=[{path:"",component:h.a,children:[{path:"adicionar",component:M},{path:"selecionar",component:(I=function(){function t(n,r,i,o){e(this,t),this.service=n,this.router=r,this.activeRouter=i,this.boletoService=o,this.storage=sessionStorage,this.loading=!1,this.submited=!1}return n(t,[{key:"ngOnInit",value:function(){this.loadForm()}},{key:"loadForm",value:function(){this.form=new c.h({referencia:new c.e(null,[c.z.required,c.z.minLength(6),c.z.maxLength(6),B.a.isReferencia()]),vencimento:new c.e(null,[c.z.required,c.z.minLength(8),c.z.maxLength(8),R.a.isDate()])})}},{key:"OnSubmit",value:function(){this.submited=!0,this.form.invalid||(this.storage.setItem("[gerar-boleto][adicionar]",JSON.stringify(this.form.value)),this.router.navigate(["./adicionar"],{relativeTo:this.activeRouter.parent}))}},{key:"getStatus",value:function(e){return this.submited?this.form.get(e).valid?"success":"danger":"basic"}},{key:"referencia",get:function(){return this.form.get("referencia")}},{key:"vencimento",get:function(){return this.form.get("vencimento")}}]),t}(),I.\u0275fac=function(e){return new(e||I)(g["\u0275\u0275directiveInject"](m.a),g["\u0275\u0275directiveInject"](v.c),g["\u0275\u0275directiveInject"](v.a),g["\u0275\u0275directiveInject"](p.a))},I.\u0275cmp=g["\u0275\u0275defineComponent"]({type:I,selectors:[["ngx-gerar-boleto-selecionar"]],decls:30,vars:16,consts:[["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["status","success",3,"nbSpinner"],[1,"row"],[1,"col-md-3","col-12"],[1,"form-group"],[1,"label"],["nbInput","","fullWidth","","type","text","placeholder","Refer\xeancia",1,"form-control",3,"mask","status","ngClass","formControl"],[1,"valid-feedback"],[1,"invalid-feedback"],["nbInput","","fullWidth","","type","text","placeholder","vencimento",1,"form-control",3,"mask","status","ngClass","formControl"],[1,"col-md-3","offset-md-3","col-12"],["nbButton","","outline","","fullWidth","","status","success","type","submit"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"form",0),g["\u0275\u0275listener"]("ngSubmit",(function(){return t.OnSubmit()})),g["\u0275\u0275elementStart"](1,"nb-card",1),g["\u0275\u0275elementStart"](2,"nb-card-header"),g["\u0275\u0275text"](3," Gerar Boletos Mensais "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"nb-card-body"),g["\u0275\u0275elementStart"](5,"div",2),g["\u0275\u0275elementStart"](6,"div",3),g["\u0275\u0275elementStart"](7,"div",4),g["\u0275\u0275elementStart"](8,"label",5),g["\u0275\u0275text"](9,"* Refer\xeancia:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](10,"input",6),g["\u0275\u0275elementStart"](11,"div",7),g["\u0275\u0275text"](12," V\xe1lido "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",8),g["\u0275\u0275text"](14," Inv\xe1lido "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"div",3),g["\u0275\u0275elementStart"](16,"div",4),g["\u0275\u0275elementStart"](17,"label",5),g["\u0275\u0275text"](18,"* Vencimento:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](19,"input",9),g["\u0275\u0275elementStart"](20,"div",7),g["\u0275\u0275text"](21," V\xe1lido "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"div",8),g["\u0275\u0275text"](23," Inv\xe1lido "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"div",10),g["\u0275\u0275elementStart"](25,"div",4),g["\u0275\u0275elementStart"](26,"label",5),g["\u0275\u0275text"](27,"A\xe7\xf5es"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"button",11),g["\u0275\u0275text"](29,"Pr\xe9-Visualizar"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("formGroup",t.form),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("nbSpinner",t.loading),g["\u0275\u0275advance"](9),g["\u0275\u0275property"]("mask","00/0000")("status",t.getStatus("referencia"))("ngClass",g["\u0275\u0275pureFunction2"](10,P,t.referencia.valid&&t.submited,t.referencia.invalid&&t.submited))("formControl",t.referencia),g["\u0275\u0275advance"](9),g["\u0275\u0275property"]("mask","00/00/0000")("status",t.getStatus("vencimento"))("ngClass",g["\u0275\u0275pureFunction2"](13,P,t.vencimento.valid&&t.submited,t.vencimento.invalid&&t.submited))("formControl",t.vencimento))},directives:[c.B,c.r,c.i,d.q,d.ib,d.s,d.p,d.I,f.a,c.b,b.m,c.q,c.f,d.n],encapsulation:2}),I)},{path:"",redirectTo:"selecionar",pathMatch:"full"},{path:"**",redirectTo:"selecionar"}]}],V=((j=function t(){e(this,t)}).\u0275mod=g["\u0275\u0275defineNgModule"]({type:j}),j.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||j)},imports:[[v.g.forChild(N)],v.g]}),j),L=((C=function t(){e(this,t)}).\u0275fac=function(e){return new(e||C)},C.\u0275prov=g["\u0275\u0275defineInjectable"]({token:C,factory:C.\u0275fac}),C),T=((w=function t(){e(this,t)}).\u0275mod=g["\u0275\u0275defineNgModule"]({type:w}),w.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||w)},providers:[L,m.a,p.a],imports:[[u.a,d.t,d.o,d.J,d.eb,s.a,d.H,c.k,c.w,d.J,d.jb,V,d.v,d.ub,f.c.forChild(),d.A.forRoot(),l.a]]}),w)}}])}();