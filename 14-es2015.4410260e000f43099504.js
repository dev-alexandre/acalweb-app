(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{TP08:function(e,t,n){"use strict";n.r(t),n.d(t,"HidrometroModule",(function(){return H}));var r=n("3Pt+"),a=n("oG2T"),o=n("tR1z"),l=n("aceb"),i=n("BxTH"),d=n("vTDv"),m=n("tmjD"),s=n("j9oM"),c=n("hwQp"),u=n("fXoL"),p=n("tyNb");let f=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro"]],decls:1,vars:0,template:function(e,t){1&e&&u["\u0275\u0275element"](0,"router-outlet")},directives:[p.h],encapsulation:2}),e})();var h=n("x2Ck"),b=n("CCLK"),v=n("tk/3");let g=(()=>{class e extends h.Service{constructor(e){super(e),this.http=e}getModulo(){return b.a.HIDROMETRO}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](v.b))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var S=n("9mTU"),E=n("wd/R"),x=n("ofXK"),y=n("vDW2"),C=n("uG+8");function I(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"nb-list"),u["\u0275\u0275elementStart"](2,"nb-list-item"),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"number"),u["\u0275\u0275element"](5,"br"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"nb-list-item"),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"number"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" Valor da \xc1gua para mil litros ",u["\u0275\u0275pipeBind4"](4,2,null==e.valorAgua?null:e.valorAgua.valor,"1.2-4","pt-BR","R$")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" Quantidade de \xc1gua considerada para Abono ",u["\u0275\u0275pipeBind4"](8,7,null==e.valorAgua?null:e.valorAgua.litrosGratuidade,"1.0","pt-BR","Lts")," ")}}function M(e,t){1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275text"](1," 0 "),u["\u0275\u0275elementContainerEnd"]())}function A(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"currency"),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]().$implicit,t=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind3"](2,1,(e.hidrometro.atual-e.hidrometro.anterior-t.valorAgua.litrosGratuidade)*t.valorAgua.valor/1e3,"BRL","symbol")," ")}}function O(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td",14),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"matricula"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"td",14),u["\u0275\u0275elementStart"](5,"input",15),u["\u0275\u0275listener"]("ngModelChange",(function(n){return u["\u0275\u0275restoreView"](e),t.$implicit.hidrometro.anterior=n})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td",14),u["\u0275\u0275elementStart"](7,"input",16),u["\u0275\u0275listener"]("ngModelChange",(function(n){return u["\u0275\u0275restoreView"](e),t.$implicit.hidrometro.atual=n})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"td",14),u["\u0275\u0275text"](9),u["\u0275\u0275pipe"](10,"number"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",14),u["\u0275\u0275template"](12,M,2,0,"ng-container",3),u["\u0275\u0275template"](13,A,3,5,"ng-container",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,8,e.matricula)," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("status",e.valido?"basic":"danger")("ngModel",e.hidrometro.anterior),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("status",e.valido?"basic":"danger")("ngModel",e.hidrometro.atual),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind3"](10,10,e.hidrometro.atual-e.hidrometro.anterior,"1.0","pt-BR")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",e.hidrometro.atual-e.hidrometro.anterior-n.valorAgua.litrosGratuidade<0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.hidrometro.atual-e.hidrometro.anterior-n.valorAgua.litrosGratuidade>0)}}function w(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,O,14,14,"tr",13),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.hidrometros)}}let B=(()=>{class e{constructor(e,t,n,r,a,o){this.toast=e,this.matriculaService=t,this.hidrometroService=n,this.activeRouter=r,this.router=a,this.valorAguaService=o,this.storage=sessionStorage}ngOnInit(){this.load(),this.valorAguaService.buscarAtual().subscribe(e=>{this.valorAgua=e,this.loadData()})}load(){this.referencia=JSON.parse(this.storage.getItem("[hidrometro][adicionar]")),this.storage.removeItem("[hidrometro][adicionar]"),this.referencia||this.router.navigate(["./listar"],{relativeTo:this.activeRouter.parent}),this.referenciaAnterior=this.getReferenciaAnterior(this.referencia)}getReferenciaAnterior(e){return E(e,"",!0).subtract(1,"M").format("MMYYYY")}loadData(){this.hidrometros=[],this.matriculaService.listarMatriculasHidrometro().subscribe(e=>{this.matriculas=e,this.matriculas.forEach(e=>{const t=e.logradouro.tipoLogradouro.nome+" "+e.logradouro.nome+" "+e.numero+" "+(e.letra?e.letra:" ");let n=this.hidrometroByReferencia(e,this.referencia);if(!n){const r=this.hidrometroByReferencia(e,this.referenciaAnterior);n=r?{referencia:this.referencia,atual:0,anterior:r.atual,valorLitroAgua:this.valorAgua.valor/1e3,litrosGratuidade:this.valorAgua.litrosGratuidade,matricula:t}:{referencia:this.referencia,atual:0,anterior:0,valorLitroAgua:this.valorAgua.valor/1e3,litrosGratuidade:this.valorAgua.litrosGratuidade,matricula:t}}this.hidrometros.push({matricula:e,hidrometro:n,valido:!0})})})}valorFinal(){}validar(){return this.hidrometros.forEach(e=>{e.hidrometro.atual<e.hidrometro.anterior&&(e.valido=!1)}),this.hidrometros.some(e=>!e.valido)}hidrometroByReferencia(e,t){return e.hidrometroList||(e.hidrometroList=[]),e.hidrometroList.find(e=>e.referencia===t)}salvar(){this.validar()?this.toast.danger("Erro","Dados invalidos"):(this.hidrometros.forEach(e=>{e.hidrometro.valorLitroAgua=this.valorAgua.valor/1e3,e.matricula.hidrometroList.push(e.hidrometro)}),this.matriculaService.salvarTodos(this.matriculas).subscribe(()=>{this.router.navigate(["./listar"],{relativeTo:this.activeRouter.parent})},e=>{this.toast.danger("Erro",e)}))}voltar(){this.router.navigate(["./listar"],{relativeTo:this.activeRouter.parent})}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](l.qb),u["\u0275\u0275directiveInject"](s.a),u["\u0275\u0275directiveInject"](g),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](p.c),u["\u0275\u0275directiveInject"](S.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-adicionar"]],decls:35,vars:5,consts:[["status","success"],[1,"float-left"],[1,"float-right"],[4,"ngIf"],[1,"table-responsive"],[1,"table","table-sm","table-striped"],["scope","col",1,"align-middle","font-weight-bold"],["scope","col","colspan","5"],[1,"row"],[1,"col-md-2","col-6"],["nbButton","","outline","","fullWidth","","status","basic","type","button",3,"click"],[1,"col-md-2","offset-md-8","col-6"],["nbButton","","outline","","fullWidth","","status","success","type","submit",3,"click"],[4,"ngFor","ngForOf"],[1,"align-middle"],["nbInput","","fullWidth","","type","text","mask","separator.0","thousandSeparator",".","placeholder","Anterior",3,"status","ngModel","ngModelChange"],["nbInput","","fullWidth","","type","text","mask","separator.0","thousandSeparator",".","placeholder","Atual",3,"status","ngModel","ngModelChange"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"nb-card",0),u["\u0275\u0275elementStart"](1,"nb-card-header"),u["\u0275\u0275elementStart"](2,"div",1),u["\u0275\u0275text"](3," Registro "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"div",2),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"referenciaPipe"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"nb-card-body"),u["\u0275\u0275template"](8,I,9,12,"ng-container",3),u["\u0275\u0275elementStart"](9,"div",4),u["\u0275\u0275elementStart"](10,"table",5),u["\u0275\u0275elementStart"](11,"thead"),u["\u0275\u0275elementStart"](12,"tr"),u["\u0275\u0275elementStart"](13,"th",6),u["\u0275\u0275text"](14," Matr\xedcula: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",6),u["\u0275\u0275text"](16," Anterior: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"th",6),u["\u0275\u0275text"](18," Atual: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"th",6),u["\u0275\u0275text"](20," Consumo: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"th",6),u["\u0275\u0275text"](22," Valor: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](23,w,2,1,"tbody",3),u["\u0275\u0275elementStart"](24,"tfoot"),u["\u0275\u0275elementStart"](25,"tr"),u["\u0275\u0275element"](26,"th",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"nb-card-footer"),u["\u0275\u0275elementStart"](28,"div",8),u["\u0275\u0275elementStart"](29,"div",9),u["\u0275\u0275elementStart"](30,"button",10),u["\u0275\u0275listener"]("click",(function(){return t.voltar()})),u["\u0275\u0275text"](31,"voltar"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](32,"div",11),u["\u0275\u0275elementStart"](33,"button",12),u["\u0275\u0275listener"]("click",(function(){return t.salvar()})),u["\u0275\u0275text"](34,"Salvar"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,3,t.referencia)," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",t.valorAgua),u["\u0275\u0275advance"](15),u["\u0275\u0275property"]("ngIf",t.hidrometros))},directives:[l.q,l.s,l.p,x.o,l.r,l.n,l.Q,l.R,x.n,l.I,m.a,r.b,r.q,r.t],pipes:[y.a,x.g,C.a,x.d],styles:[".nb-theme-default   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}.nb-theme-cosmic   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#fff}.nb-theme-corporate   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}"]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-deletar"]],decls:12,vars:0,consts:[["status","danger"],[1,"row"],[1,"col-md-2","col-6"],["nbButton","","outline","","fullWidth","","status","basic"],[1,"col-md-2","offset-md-8","col-6"],["nbButton","","outline","","fullWidth","","status","danger","type","button"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"nb-card",0),u["\u0275\u0275elementStart"](1,"nb-card-header"),u["\u0275\u0275text"](2," Hidr\xf4metro "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](3,"nb-card-body"),u["\u0275\u0275elementStart"](4,"nb-card-footer"),u["\u0275\u0275elementStart"](5,"div",1),u["\u0275\u0275elementStart"](6,"div",2),u["\u0275\u0275elementStart"](7,"button",3),u["\u0275\u0275text"](8,"voltar"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"div",4),u["\u0275\u0275elementStart"](10,"button",5),u["\u0275\u0275text"](11,"Deletar"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())},directives:[l.q,l.s,l.p,l.r,l.n],encapsulation:2}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-editar"]],decls:16,vars:0,consts:[["novalidate","",1,"needs-validation"],["status","warning"],[1,"row"],[1,"col-md-3","col-12"],[1,"form-group"],[1,"col-md-2","col-6"],["nbButton","","outline","","fullWidth","","status","basic","type","reset"],[1,"col-md-2","offset-md-8","col-6"],["nbButton","","outline","","fullWidth","","status","success","type","submit"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"form",0),u["\u0275\u0275elementStart"](1,"nb-card",1),u["\u0275\u0275elementStart"](2,"nb-card-header"),u["\u0275\u0275text"](3," Hidr\xf4metro "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"nb-card-body"),u["\u0275\u0275elementStart"](5,"div",2),u["\u0275\u0275elementStart"](6,"div",3),u["\u0275\u0275element"](7,"div",4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"nb-card-footer"),u["\u0275\u0275elementStart"](9,"div",2),u["\u0275\u0275elementStart"](10,"div",5),u["\u0275\u0275elementStart"](11,"button",6),u["\u0275\u0275text"](12,"voltar"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"div",7),u["\u0275\u0275elementStart"](14,"button",8),u["\u0275\u0275text"](15,"Salvar"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())},directives:[r.B,r.r,r.s,l.q,l.s,l.p,l.r,l.n],encapsulation:2}),e})();var P=n("8Va2");function L(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td",14),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td",14),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"referenciaPipe"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td",14),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"number"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"td",14),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"number"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"td",14),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"number"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"td",14),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"currency"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",e.matricula," "),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](5,6,e.referencia)," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,8,e.anterior)," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,10,e.atual)," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,12,e.atual-e.anterior)," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind3"](17,14,(e.atual-e.anterior)*e.valorLitroAgua,"BRL","symbol")," ")}}function j(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,L,18,18,"tr",13),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.table.content)}}function W(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275elementStart"](1,"tr"),u["\u0275\u0275elementStart"](2,"td",15),u["\u0275\u0275text"](3," Nenhum registro encontrado "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",16),u["\u0275\u0275elementStart"](1,"div",17),u["\u0275\u0275elementStart"](2,"p",18),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate4"](" Exibindo de ",e.table.pageable.pageNumber*e.table.pageable.pageSize+1," A ",e.table.pageable.pageNumber*e.table.pageable.pageSize+e.table.numberOfElements," de ",e.table.totalElements," registro em ",e.table.totalPages," paginas ")}}function F(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",16),u["\u0275\u0275elementStart"](1,"div",19),u["\u0275\u0275elementStart"](2,"button",20),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().anterior()})),u["\u0275\u0275text"](3,"Anterior"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"div",21),u["\u0275\u0275elementStart"](5,"button",20),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().avancar()})),u["\u0275\u0275text"](6,"Proxima"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("disabled",e.table.first),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("disabled",e.table.last)}}let G=(()=>{class e extends h.ListarComponent{constructor(e,t,n){super(e,t,n),this.router=e,this.activeRouter=t,this.service=n}ngOnInit(){super.init()}getModulo(){return P.b.HIDROMETRO}selecionar(){this.router.navigate(["./selecionar"],{relativeTo:this.activeRouter.parent})}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](p.c),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](g))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-listar"]],features:[u["\u0275\u0275InheritDefinitionFeature"]],decls:46,vars:12,consts:[["status","info",3,"nbSpinner"],[1,"col-12","col-md-2","offset-md-10"],["placeholder","N\xfamero de registros",1,"float-right",3,"fullWidth","selected","selectedChange","ngModelChange"],[3,"value"],[1,"table","table-sm","table-striped"],["scope","col","colspan","4"],["scope","col","colspan","2"],["nbButton","","outline","","fullWidth","","status","success",3,"click"],["icon","plus-outline"],["scope","col",1,"align-middle","font-weight-bold"],[4,"ngIf"],["scope","col","colspan","6"],["class","row",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"align-middle"],["colspan","6",1,"align-middle"],[1,"row"],[1,"col-12","col-md-6"],[1,"text-secondary","align-middle"],[1,"col-md-3","col-6"],["nbButton","","outline","","fullWidth","","status","basic",3,"disabled","click"],[1,"offset-md-6","col-md-3","col-6"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"nb-card",0),u["\u0275\u0275elementStart"](1,"nb-card-header"),u["\u0275\u0275text"](2," Hidr\xf4metro "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"nb-card-body"),u["\u0275\u0275elementStart"](4,"div",1),u["\u0275\u0275elementStart"](5,"nb-select",2),u["\u0275\u0275listener"]("selectedChange",(function(e){return t.filtro.size=e}))("selectedChange",(function(e){return t.filtro.page=0,t.filtro.size=e,t.changeSize()}))("ngModelChange",(function(e){return t.filtro.page=0,t.filtro.size=e})),u["\u0275\u0275elementStart"](6,"nb-option",3),u["\u0275\u0275text"](7,"1"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"nb-option",3),u["\u0275\u0275text"](9,"3"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"nb-option",3),u["\u0275\u0275text"](11,"5"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"nb-option",3),u["\u0275\u0275text"](13,"10"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"nb-option",3),u["\u0275\u0275text"](15,"25"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"nb-card-body"),u["\u0275\u0275elementStart"](17,"table",4),u["\u0275\u0275elementStart"](18,"thead"),u["\u0275\u0275elementStart"](19,"tr"),u["\u0275\u0275element"](20,"th",5),u["\u0275\u0275elementStart"](21,"th",6),u["\u0275\u0275elementStart"](22,"button",7),u["\u0275\u0275listener"]("click",(function(){return t.selecionar()})),u["\u0275\u0275element"](23,"nb-icon",8),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"tr"),u["\u0275\u0275elementStart"](25,"th",9),u["\u0275\u0275text"](26," Matr\xedcula: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"th",9),u["\u0275\u0275text"](28," Refer\xeancia: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"th",9),u["\u0275\u0275text"](30," Atual: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"th",9),u["\u0275\u0275text"](32," Anterior: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"th",9),u["\u0275\u0275text"](34," Consumo: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"th",9),u["\u0275\u0275text"](36," Valor: "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](37,j,2,1,"tbody",10),u["\u0275\u0275template"](38,W,4,0,"tbody",10),u["\u0275\u0275elementStart"](39,"tfoot"),u["\u0275\u0275elementStart"](40,"tr"),u["\u0275\u0275element"](41,"th",11),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"nb-card-footer"),u["\u0275\u0275template"](43,_,4,4,"div",12),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](44,"nb-card-footer"),u["\u0275\u0275template"](45,F,7,2,"div",12),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("nbSpinner",t.loading),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("fullWidth",!0)("selected",t.filtro.size),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("value",1),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("value",3),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("value",5),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("value",10),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("value",25),u["\u0275\u0275advance"](23),u["\u0275\u0275property"]("ngIf",t.table&&!(null!=t.table&&t.table.empty)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==t.table?null:t.table.empty),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",t.table),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",t.table))},directives:[l.q,l.jb,l.s,l.p,l.eb,l.Y,l.n,l.F,x.o,l.r,x.n],pipes:[y.a,x.g,x.d],styles:[".nb-theme-default   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}.nb-theme-cosmic   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%], .nb-theme-dark   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#fff}.nb-theme-corporate   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}"]}),e})();var T=n("FPPW");const V=function(){return["../listar"]},z=[{path:"",component:f,children:[{path:"listar",component:G},{path:"adicionar",component:B},{path:"deletar",component:R},{path:"editar",component:k},{path:"selecionar",component:(()=>{class e{constructor(e,t,n){this.router=e,this.activeRouter=t,this.service=n,this.storage=sessionStorage,this.submited=!1}ngOnInit(){this.loadForm()}loadForm(){this.form=new r.h({referencia:new r.e(E(new Date).format("MMYYYY"),[r.z.required,r.z.minLength(6),r.z.maxLength(6),T.a.isReferencia()])})}OnSubmit(){this.submited=!0,this.form.invalid||(this.storage.setItem("[hidrometro][adicionar]",JSON.stringify(this.referencia.value)),this.router.navigate(["./adicionar"],{relativeTo:this.activeRouter.parent}))}getStatus(e){return this.submited?this.form.get(e).valid?"success":"danger":"basic"}get referencia(){return this.form.get("referencia")}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](p.c),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](g))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-hidrometro-selecionar"]],decls:29,vars:6,consts:[[1,"needs-validation",3,"formGroup","ngSubmit"],["status","success"],[1,"row"],[1,"col-md-3","col-12"],[1,"form-group"],[1,"label"],["nbInput","","fullWidth","","type","text","placeholder","Refer\xeancia",1,"form-control",3,"mask","formControl","status"],[1,"valid-feedback"],[1,"invalid-feedback"],[1,"col-md-3","offset-md-6","col-12"],["nbButton","","outline","","fullWidth","","status","success","type","submit"],["routerLinkActive","active","nbButton","","outline","","fullWidth","","status","basic","type","button",3,"routerLink"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"form",0),u["\u0275\u0275listener"]("ngSubmit",(function(){return t.OnSubmit()})),u["\u0275\u0275elementStart"](1,"nb-card",1),u["\u0275\u0275elementStart"](2,"nb-card-header"),u["\u0275\u0275text"](3," Hidrom\xeatros "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"nb-card-body"),u["\u0275\u0275elementStart"](5,"div",2),u["\u0275\u0275elementStart"](6,"div",3),u["\u0275\u0275elementStart"](7,"div",4),u["\u0275\u0275elementStart"](8,"label",5),u["\u0275\u0275text"](9,"* Refer\xeancia:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](10,"input",6),u["\u0275\u0275elementStart"](11,"div",7),u["\u0275\u0275text"](12," V\xe1lido "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"div",8),u["\u0275\u0275text"](14," Inv\xe1lido "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"div",9),u["\u0275\u0275elementStart"](16,"div",4),u["\u0275\u0275elementStart"](17,"label",5),u["\u0275\u0275text"](18,"A\xe7\xf5es"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"button",10),u["\u0275\u0275text"](20,"Pr\xe9-Visualizar"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"nb-card-footer"),u["\u0275\u0275elementStart"](22,"div",2),u["\u0275\u0275elementStart"](23,"div",3),u["\u0275\u0275elementStart"](24,"div",4),u["\u0275\u0275elementStart"](25,"label",5),u["\u0275\u0275text"](26,"A\xe7\xf5es"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"button",11),u["\u0275\u0275text"](28," Voltar"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("formGroup",t.form),u["\u0275\u0275advance"](10),u["\u0275\u0275property"]("mask","00/0000")("formControl",t.referencia)("status",t.getStatus("referencia")),u["\u0275\u0275advance"](17),u["\u0275\u0275property"]("routerLink",u["\u0275\u0275pureFunction0"](5,V)))},directives:[r.B,r.r,r.i,l.q,l.s,l.p,l.I,m.a,r.b,r.q,r.f,l.n,l.r,p.e,p.d],encapsulation:2}),e})()}]}];let D=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[p.g.forChild(z)],p.g]}),e})(),H=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[s.a,g],imports:[[d.a,l.t,l.o,l.J,l.fb,o.a,l.H,r.k,r.w,l.J,D,l.A,a.a,i.a,l.ub,l.kb,m.c.forChild(),c.FinanceiroModule,l.S]]}),e})()},"uG+8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("fXoL");let a=(()=>{class e{transform(e,t){return e?e.letra?e.logradouro.tipoLogradouro.nome+" "+e.logradouro.nome+" "+e.numero+" "+e.letra:e.logradouro.tipoLogradouro.nome+" "+e.logradouro.nome+" "+e.numero:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"matricula",type:e,pure:!0}),e})()}}]);