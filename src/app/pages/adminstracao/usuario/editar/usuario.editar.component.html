<form [formGroup]="form" (ngSubmit)="onSubmit()" class="needs-validation" novalidate [nbSpinner]="loading">

  <nb-card status="warning">

    <nb-card-header>
      Usuário
    </nb-card-header>

    <nb-card-body>
      <div class="row">


          <div class="col-md-3 col-12">
            <div class="form-group">

              <label class="label">* Login:</label>
              <input
                nbInput
                fullWidth
                type="text"
                placeholder="Login"
                [formControl]="email"
                [status]="getStatus('email')"
                [ngClass]="{'is-valid': (email.valid && submited) , 'is-invalid' : (email.invalid && submited)  }"
              >

            </div>
          </div>

        <div class="col-md-5 col-12">
          <div class="form-group">

            <label class="label">* Nome:</label>
            <input
              nbInput
              fullWidth
              type="text"
              placeholder="Nome"
              [formControl]="name"
              [status]="getStatus('name')"
              [ngClass]="{'is-valid': (name.valid && submited) , 'is-invalid' : (name.invalid && submited)  }"
            >
          </div>
        </div>

        <div class="col-md-4 col-12">
          <div class="form-group">
            <label class="label">* Cargo:</label>

            <nb-select
              fullWidth
              placeholder="Selecionar"
              [status]="getStatus('title')"
              [formControl]="title">

              <nb-option *ngFor="let c of cargos" [value]=c.nome>
                {{c.nome}}
              </nb-option>

            </nb-select>

          </div>
        </div>

        <div class="offset-md-8 col-md-4 col-12">
          <div class="form-group">
            <label class="label">* Autorização: </label>

            <nb-select
              fullWidth
              placeholder="Selecionar"
              (selectedChange)="onSelectAutorizacao()"
              [(ngModel)]="autorizacao"
              [ngModelOptions]="{standalone: true}"
              >

              <nb-option *ngFor="let auto of autorizacoes" [value]=auto>
                {{auto.name}}
              </nb-option>

            </nb-select>

          </div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <table class="table table-sm table-striped">

          <thead>
            <tr>
              <td class="align-middle font-weight-bold col-10">
                Autorização:
              </td>
              <td lass="align-middle font-weight-bold col-2">
                Remover:
              </td>
            </tr>
          </thead>

          <tbody>

            <tr *ngFor="let item of autorizacoesSelecionadas">
              <td>
                {{item.name}}
              </td>

              <td>
                <button nbButton outline nbButton size="small" fullWidth status="success" type="button" (click)="removerAutorizacao(item)">Remover</button>
              </td>
            </tr>

          </tbody>

        </table>
      </div>
    </div>

    </nb-card-body>

    <nb-card-footer>
      <div class="row">

        <div class="col-md-2 col-6">
          <button nbButton outline fullWidth status="basic" type="reset" (click)="voltar()">voltar</button>
        </div>

        <div class="col-md-2 offset-md-8 col-6">
          <button nbButton outline fullWidth status="success" type="submit">Salvar</button>
        </div>

      </div>
    </nb-card-footer>

  </nb-card>

</form>

